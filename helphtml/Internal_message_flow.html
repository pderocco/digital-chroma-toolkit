<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="us-ascii">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="page.css">
    </head>
  <body onclick="dismiss()">
    <div class="fixedwidth">
      <div id="popup-bg">
        <div id="popup-fg" onclick="dismiss()">
          </div>
        </div>
      <table class="navbar">
        <tr>
          <td width="33%">
            <div class="navtitle" onclick="page('Calibrations')">Calibrations</div>
            <div class="navleft">&#x25C4</div>
            <div class="navright">&#x25C4</div>
            </td>
          <td width="34%">
            <div class="navtitle" onclick="page('Reference')">Reference</div>
            <div class="navleft">&#x25B2</div>
            <div class="navright">&#x25B2</div>
            </td>
          <td width="33%">
            <div class="navtitle" onclick="page('MIDI_implementation')">MIDI implementation</div>
            <div class="navleft">&#x25BA</div>
            <div class="navright">&#x25BA</div>
            </td>
          </tr>
        </table>
      <div class="content">
<h1>Internal message flow</h1>
<p>Inside the Digital Chroma, all musical and programming events are
  represented as messages that are sent from one software module, or
  &ldquo;object&rdquo;, to another. The flow of messages looks basically like
  this:</p>
<p align="center">&nbsp;<img src="message-flow.png" width="512">&nbsp;</p>
<p>The Local Source object represents the source of all performance and
  programming events that are generated by the Digital Chroma itself, and all
  such event messages emerge from its single output. In normal live use
  (without MIDI), these messages go to two <span class="popup" onclick="popup('_player')">player</span> objects, one for the Main
  sound and the other for the <span class="popup" onclick="popup('_link_program')">Link</span> sound, with some
  <span class="popup" onclick="popup('_preprocessor')">preprocessing</span> in between that decides what notes and controls
  go to which. The player objects are what generate the actual sound.</p>
<p>The <span class="popup" onclick="popup('_USB_device_port')">USB device port</span> is used for connecting to an external computer, and
  has four virtual MIDI jacks, for a total of 64 channels. One channel can be
  set aside for communication with an editor like the Digital Chroma Toolkit.
  The device port is also used for sequence recording and playback. When
  recording, the Main and Link sounds can be directed to any pair of channels.
  When playing back, each channel has its own player.</p>
<p>The serial MIDI port and the two <span class="popup" onclick="popup('_USB_host_port')">USB host ports</span> are used
  for external keyboard and controller input. The <span class="popup" onclick="popup('_global_parameter')">global parameter</span> MIDI Main
  Input <span class="popup" onclick="popup('_parameter')">parameter</span> can intercept one channel and merge it in with the Local
  Source. The global MIDI Link Input parameter can intercept a second channel
  specifically for playing the link sound when the <span class="page" onclick="page('Common_link_mode')">link mode</span>
  parameter is set to Link External. Currently, the outputs from these ports
  are not usable for playing, but in the future it will be possible to have a
  special kind of program that generates MIDI output rather than sound, in
  which case these ports will be useful for connecting to external synth
  modules.</p>
<p>For more information, see:</p>
<ul>
  <li><span class="page" onclick="page('Local_source')">Local source</span></li>
  <li><span class="page" onclick="page('Preprocessing')">Preprocessing</span></li>
  <li><span class="page" onclick="page('Players')">Players</span></li>
  </ul>
        </div>
      </div>
    <script src="page.js"></script>
    </body>
  </html>
